etcd-custom-image:
  template: 'default'
  base_definition:
    repo: ~
    traits:
      version:
        preprocess: 'noop'
        version_interface: 'callback'
        read_callback: 'get_etcd_version'
        write_callback: 'write_etcd_version'
      publish:
        dockerimages:
          etcd:
            registry: 'gcr-readwrite'
            image: 'eu.gcr.io/gardener-project/gardener/etcd'
            dockerfile: 'Dockerfile'
            tag_as_latest: True

  jobs:
    build-image:
      traits:
        cronjob:
          interval: '24h'
